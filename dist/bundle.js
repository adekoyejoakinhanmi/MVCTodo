!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function i(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}function o(e,t){if(e.parentNode)return e.parentNode.tagName.toLowerCase()===t.toLowerCase()?e.parentNode:o(e.parentNode,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.$parent=o,t.htmlToDOM=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(2),a=i(o),r=n(4),l=i(r),u=n(5),c=i(u),s=new l.default,d=new a.default;new c.default(s,d)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(){i(this,e),this.todos=[]}return o(e,[{key:"$cid",value:function(){return Math.random().toString(16).slice(2)}},{key:"$getById",value:function(e){return this.todos.map(function(e){return e.id}).indexOf(e)}},{key:"_add",value:function(e){var t=this.$cid(),n={id:t,title:e,completed:!1};this.todos.push(new r.default(n))}},{key:"_remove",value:function(e){var t=this.$getById(e);this.todos.splice(t,1)}},{key:"_update",value:function(e){var t=this.$getById(e);this.todos[t].toggleCompleted()}},{key:"_clearComplete",value:function(){var e=this.todos;this.todos=e.filter(function(e){return!e.completed})}},{key:"get",value:function(e){var t=this.todos.filter(function(e){return!e.completed}),n=this.todos.filter(function(e){return e.completed}),i={list:[],count:{active:t.length,total:this.todos.length,completed:n.length}};return"all"===e?i.list=this.todos:"completed"===e?i.list=n:"active"===e&&(i.list=t),i}},{key:"set",value:function(e,t){"add"===e&&this._add(t),"remove"===e&&this._remove(t),"update"===e&&this._update(t),"clearCompleted"===e&&this._clearComplete()}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e);for(var n in t)this[n]=t[n]}return o(e,[{key:"toggleCompleted",value:function(){this.completed=!this.completed}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),r=function(){function e(){i(this,e),this.viewState="all",this._listFrag=document.createDocumentFragment(),this._loadDOM()}return o(e,[{key:"_loadDOM",value:function(){this.$list=document.getElementById("todo-list"),this.$input=document.getElementById("newTodo"),this.$infoBar=document.getElementById("info-bar"),this.$infoBar.classList.remove("hidden"),this.$infoBar.innerHTML=""}},{key:"$todoTmpl",value:function(e){var t=e.id,n=e.title,i=e.completed,o='\n           <li data-id="'+t+'" class="'+(i?"completed":"")+'">\n               <input type="checkbox" class="toggle" '+(i?"checked":"")+"/>\n               <span>"+n+'</span>\n               <div class="pull-right btns">\n                   <i class="glyphicon glyphicon-trash remove"></i>\n               </div>\n           </li>\n       ';return(0,a.htmlToDOM)(o)}},{key:"$infoTmpl",value:function(e){var t=e.count,n=t.active,i=t.total,o=t.completed,r=i<=0,l=this.viewState,u='\n       <div class="'+(r?"hidden":"")+'">\n            <div class="clearfix">    \n                <p id="countNotifier">'+n+" item"+(1===n?"":"s")+' left</p>\n                <button id="clear" class="btn pull-right btn-sm btn-danger '+(o<=0?"disabled":"")+'">Clear Completed</button>\n            </div>\n            <div class="action-bar">\n                <div class="btn-group">\n                <button id="all" class="btn btn-sm btn-default '+("all"===l?"active":"")+'">All</button>\n                <button id="completed" class="btn btn-sm btn-default '+("completed"===l?"active":"")+'">\n                    Completed\n                </button>\n                <button id="active" class="btn btn-sm btn-default '+("active"===l?"active":"")+'">\n                    Active\n                </button>\n                </div>\n            </div>\n       </div>\n       ';return(0,a.htmlToDOM)(u)}},{key:"$listHelper",value:function(e){var t=this.$todoTmpl(e);this._listFrag.appendChild(t)}},{key:"listRender",value:function(e){var t=e.list;if(this._listFrag.innerHTML="",t&&0!==t.length)for(var n=0,i=t.length;n<i;n++)this.$listHelper(t[n]);else{var o=document.createElement("p");o.className="text-center",o.innerText="Nothing to see here",this._listFrag.appendChild(o)}this.$list.innerHTML="",this.$list.appendChild(this._listFrag)}},{key:"infoRender",value:function(e){var t=this.$infoTmpl(e);this.$infoBar.innerHTML="",this.$infoBar.appendChild(t)}},{key:"clearInput",value:function(){this.$input.value=""}},{key:"changeViewState",value:function(e){this.viewState=e}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),r=function(){function e(t,n){i(this,e),this.view=t,this.collection=n,this._initEvents(),this.view.listRender({list:[]})}return o(e,[{key:"_initEvents",value:function(){var e=this;this.view.$input.addEventListener("keypress",function(t){var n=e.view.$input.value;n.trim()&&13===t.keyCode&&e._add(n)}),this.view.$list.addEventListener("click",function(t){var n=e.$getId(t.target);t.target.matches(".remove")?e._remove(n):t.target.matches(".toggle")&&e._update(n)}),this.view.$infoBar.addEventListener("click",function(t){t.target.matches("#clear")?e._clearCompleted():t.target.matches("#completed")?e._updateViewState("completed"):t.target.matches("#active")?e._updateViewState("active"):e._updateViewState("all")})}},{key:"$getId",value:function(e){var t=(0,a.$parent)(e,"li");return String(t.dataset.id)}},{key:"_add",value:function(e){this.collection.set("add",e),this._updateView(),this.view.clearInput()}},{key:"_remove",value:function(e){this.collection.set("remove",e),this._updateView()}},{key:"_update",value:function(e){this.collection.set("update",e),this._updateView()}},{key:"_clearCompleted",value:function(){this.collection.set("clearCompleted"),this._updateView()}},{key:"_updateViewState",value:function(e){this.view.changeViewState(e),this._updateView()}},{key:"_updateView",value:function(){var e=this.view.viewState,t=this.view,n=void 0;"all"===e?n=this.collection.get("all"):"completed"===e?n=this.collection.get("completed"):"active"===e&&(n=this.collection.get("active")),t.listRender(n),t.infoRender(n)}}]),e}();t.default=r}]);